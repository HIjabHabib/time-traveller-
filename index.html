<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Time Traveler Layout</title>
  <meta name="description" content="A time-aware webpage that transitions from sunrise to sunset with animated elements." />
  <style>
    /* ---------- Reset & basics ---------- */
    :root{
      --transition: 800ms cubic-bezier(.2,.9,.2,1);
      --sun-size: 96px;
      --moon-size: 72px;
      --fg: #ffffff;
      --muted: rgba(255,255,255,0.75);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial}
    body{display:flex;align-items:center;justify-content:center;min-height:100vh;color:var(--fg);transition:background var(--transition), color var(--transition);overflow:hidden}

    /* ---------- Time-of-day themes (applied via [data-time]) ---------- */
    body[data-time="dawn"]{background:linear-gradient(180deg,#fff2e6 0%, #ffd6a5 40%, #ffd6a523 60%)}
    body[data-time="morning"]{background:linear-gradient(180deg,#e0f7ff 0%, #bfe9ff 45%, #98d7ff 100%)}
    body[data-time="afternoon"]{background:linear-gradient(180deg,#cbe6ff 0%, #88c9ff 50%, #63b1ff 100%)}
    body[data-time="dusk"]{background:linear-gradient(180deg,#ffd6a5 0%, #ff9f7a 50%, #5b3b8a 100%)}
    body[data-time="night"]{background:linear-gradient(180deg,#001026 0%, #001a33 50%, #0b1530 100%)}

    /* Container */
    .stage{width:min(1100px,94vw);height:min(680px,86vh);border-radius:20px;padding:28px;position:relative;box-shadow:0 10px 40px rgba(2,6,23,0.35);backdrop-filter: blur(6px);overflow:hidden}

    /* Sky elements */
    .horizon{position:absolute;left:0;right:0;bottom:0;height:55%;pointer-events:none}

    /* Sun & moon wrapper uses CSS vars to move across sky */
    .celestial{position:absolute;left:50%;transform:translateX(-50%);top:12%;transition:top var(--transition), left var(--transition), transform var(--transition)}
    .sun{width:var(--sun-size);height:var(--sun-size);border-radius:50%;box-shadow:0 12px 40px rgba(255,180,60,0.28), inset 0 -6px 20px rgba(255,230,200,0.25);display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff}
    .sun::after{content:'';position:absolute;inset:-24px;border-radius:50%;filter:blur(20px);opacity:0.65}
    .moon{width:var(--moon-size);height:var(--moon-size);border-radius:50%;background:linear-gradient(180deg,#f0f6ff 0%, #dfefff 100%);box-shadow:0 6px 18px rgba(0,0,0,0.28);position:relative}
    .moon::before{content:'';position:absolute;right:-12px;top:8px;width:60%;height:60%;border-radius:50%;background:rgba(0,0,0,0.06)}

    /* Clouds */
    .cloud{position:absolute;top:18%;left:-15%;width:220px;height:60px;border-radius:40px;background:rgba(255,255,255,0.9);filter:blur(0.2px);opacity:0.95;box-shadow:0 8px 20px rgba(0,0,0,0.05)}
    .cloud.small{width:140px;height:44px;top:32%;opacity:0.85}
    .cloud::before,.cloud::after{content:'';position:absolute;border-radius:50%;background:inherit}
    .cloud::before{width:72px;height:72px;left:12px;top:-20px}
    .cloud::after{width:82px;height:82px;right:18px;top:-30px}
    @keyframes floatClouds{from{transform:translateX(-30vw)}to{transform:translateX(140vw)}}
    .cloud{animation:floatClouds 42s linear infinite}
    .cloud.small{animation-duration:34s}

    /* Stars (visible at night) */
    .stars{position:absolute;inset:0;pointer-events:none;opacity:0;transition:opacity 1100ms ease}
    .stars svg{width:100%;height:100%;display:block}
    body[data-time="night"] .stars{opacity:1}

    /* Foreground content card */
    .panel{position:relative;z-index:6;background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));padding:28px;border-radius:12px;backdrop-filter: blur(6px);min-height:240px;display:flex;flex-direction:column;gap:10px}
    .title{font-size:22px;font-weight:700;letter-spacing:-0.01em}
    .greeting{font-size:40px;font-weight:800;line-height:1.02}
    .sub{color:var(--muted);font-size:14px}

    /* Small UI */
    .meta{display:flex;gap:12px;align-items:center;margin-top:auto}
    .clock{font-family:monospace;padding:8px 10px;background:rgba(0,0,0,0.12);border-radius:8px;font-weight:600}
    .btn{padding:8px 12px;border-radius:10px;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.06);cursor:pointer}

    /* Ground silhouette */
    .ground{position:absolute;bottom:0;left:0;right:0;height:26%;background:linear-gradient(180deg,transparent,rgba(0,0,0,0.14));display:flex;align-items:flex-end;justify-content:center}
    .silhouette{width:100%;height:80px;background:linear-gradient(180deg,rgba(0,0,0,0.18),rgba(0,0,0,0.32));border-top-left-radius:40% 30px;border-top-right-radius:40% 30px}

    /* Responsive tweaks */
    @media (max-width:720px){.greeting{font-size:28px}.title{font-size:18px}.stage{padding:18px;border-radius:14px}}

    /* subtle floating for celestial body along an arc using transform origin */
    .arc-move{transform-origin:50% 220px}
    .sun, .moon{transition:transform var(--transition) cubic-bezier(.2,.9,.2,1)}

    /* accessibility focus */
    .btn:focus{outline:3px solid rgba(255,255,255,0.18);outline-offset:3px}
  </style>
</head>
<body data-time="day">
  <main class="stage" role="main" aria-live="polite">

    <!-- sky elements -->
    <div class="horizon" aria-hidden="true">
      <div class="celestial arc-move" id="celestial" style="--x:50%; --y:12%;">
        <div id="sun" class="sun" style="position:relative"></div>
        <div id="moon" class="moon" style="position:relative;display:none"></div>
      </div>

      <div class="cloud" style="top:14%;left:-20%;opacity:0.95"></div>
      <div class="cloud small" style="top:26%;left:-10%;opacity:0.9;animation-delay:6s"></div>

      <div class="stars" id="stars" aria-hidden="true">
        <!-- simple SVG star field -->
        <svg viewBox="0 0 1000 600" preserveAspectRatio="none">
          <g fill="white" opacity="0.9">
            <circle cx="50" cy="40" r="1.6"/>
            <circle cx="140" cy="160" r="1.2"/>
            <circle cx="220" cy="40" r="1.1"/>
            <circle cx="430" cy="90" r="1.4"/>
            <circle cx="540" cy="40" r="1.2"/>
            <circle cx="690" cy="120" r="1.6"/>
            <circle cx="820" cy="60" r="1.1"/>
            <circle cx="920" cy="20" r="1.4"/>
            <circle cx="780" cy="210" r="1.0"/>
            <circle cx="320" cy="220" r="1.3"/>
          </g>
        </svg>
      </div>
    </div>

    <!-- Foreground card with content -->
    <section class="panel" aria-label="Time traveler control panel">
      <div style="display:flex;justify-content:space-between;gap:20px;align-items:start">
        <div>
          <div class="title">Time Traveler Layout</div>
          <h1 class="greeting" id="greeting">Good day</h1>
          <div class="sub" id="sub">Watch the page change with the time of day.</div>
        </div>
        <div style="display:flex;flex-direction:column;align-items:flex-end;gap:10px">
          <div class="clock" id="clock">--:--:--</div>
          <div style="display:flex;gap:8px">
            <button class="btn" id="demoBtn">Jump to a time</button>
            <select id="timeSelect" class="btn" aria-label="Quick time selector">
              <option value="now">Now</option>
              <option value="6">06:00 — Dawn</option>
              <option value="9">09:00 — Morning</option>
              <option value="14">14:00 — Afternoon</option>
              <option value="18">18:00 — Dusk</option>
              <option value="22">22:00 — Night</option>
            </select>
          </div>
        </div>
      </div>

      <div class="meta">
        <div class="sub">Tip: Try the selector to simulate different times.</div>
      </div>
    </section>

    <div class="ground" aria-hidden="true">
      <div class="silhouette"></div>
    </div>
  </main>

  <script>
    /* ---------- Utilities ---------- */
    const el = (id)=>document.getElementById(id);
    const body = document.body;
    const greetingEl = el('greeting');
    const subEl = el('sub');
    const clockEl = el('clock');
    const sunEl = el('sun');
    const moonEl = el('moon');
    const celestial = el('celestial');

    function pad(n){return String(n).padStart(2,'0')}

    /* Determine time segment by hour */
    function timeSegment(hour){
      if(hour>=5 && hour<8) return 'dawn';
      if(hour>=8 && hour<12) return 'morning';
      if(hour>=12 && hour<17) return 'afternoon';
      if(hour>=17 && hour<20) return 'dusk';
      return 'night';
    }

    /* Greeting by hour */
    function greetFor(hour){
      if(hour>=5 && hour<12) return ['Good morning','Sunny vibes ahead!'];
      if(hour>=12 && hour<17) return ['Good afternoon','Keep your energy high.'];
      if(hour>=17 && hour<20) return ['Good evening','The sky is painting itself.'];
      return ['Good night','Time to relax and reflect.'];
    }

    /* Move the sun/moon along an arc: input hour (0-23) -> position */
    function setCelestialPosition(hour, minute){
      // map hour (0-23) to angle along arc (-70 to 250 degrees) so it moves left->right
      // We want sunrise around 6 and sunset around 18 by default
      const total = hour + minute/60;
      // param t in [0,1] across the daytime (4 -> 20) and night arc otherwise
      const dayStart = 4, dayEnd = 20; // nicer spread
      let t;
      if(total>=dayStart && total<=dayEnd){
        t = (total - dayStart)/(dayEnd - dayStart);
      } else {
        // normalize across night arc: dayEnd->24 + 0->dayStart
        const nightSpan = (24 - dayEnd) + dayStart;
        let nightPos = total>dayEnd ? (total-dayEnd) : (total + (24-dayEnd));
        t = nightPos / nightSpan;
      }
      // angle range across the top of screen
      const angle = -70 + t * 320; // degrees

      // radius controls how high the arc is inside the stage
      const radiusX = Math.min(window.innerWidth,1100) * 0.45;
      const radiusY = 160; // smaller radiusY flattens arc

      // convert polar to xy with center near top-middle
      const cx = (document.querySelector('.stage').clientWidth)/2;
      const cy = 220; // vertical pivot for arc

      const rad = angle * Math.PI/180;
      const x = cx + radiusX * Math.cos(rad);
      const y = cy - radiusY * Math.sin(rad);

      celestial.style.left = x + 'px';
      celestial.style.top = y + 'px';

      // toggle visibility: sun for day segment, moon for night
      const seg = timeSegment(Math.floor(total));
      if(seg === 'night'){
        sunEl.style.display = 'none';
        moonEl.style.display = 'block';
      } else {
        sunEl.style.display = 'block';
        moonEl.style.display = 'none';
      }
    }

    /* Update page theme based on hour */
    function applyTheme(hour){
      const seg = timeSegment(hour);
      body.setAttribute('data-time', seg);
      const [g, s] = greetFor(hour);
      greetingEl.textContent = g;
      subEl.textContent = s;
    }

    /* Clock + live updates */
    function updateClock(now){
      const h = now.getHours();
      const m = now.getMinutes();
      const s = now.getSeconds();
      clockEl.textContent = `${pad(h)}:${pad(m)}:${pad(s)}`;
      applyTheme(h);
      setCelestialPosition(h,m);
    }

    // Initialize with current time or simulated
    function init(simHour=null){
      let now = new Date();
      if(simHour !== null){
        // create a simulated Date object for today with simHour
        now = new Date(); now.setHours(simHour,0,0,0);
      }
      updateClock(now);
      // tick each second if using real time; if simulated, do not overwrite
      if(simHour === null){
        window._timeInterval = setInterval(()=>updateClock(new Date()), 1000);
      }
    }

    // Quick demo controls
    const demoBtn = el('demoBtn');
    const timeSelect = el('timeSelect');
    demoBtn.addEventListener('click', ()=>{
      const val = timeSelect.value;
      if(val === 'now'){
        // restore live
        if(window._timeInterval) clearInterval(window._timeInterval);
        init(null);
      } else {
        // simulate that hour
        if(window._timeInterval) clearInterval(window._timeInterval);
        init(Number(val));
      }
    });

    // Accessibility: keyboard support for selector
    timeSelect.addEventListener('change', ()=> demoBtn.click());

    // on resize, recompute celestial placement
    window.addEventListener('resize', ()=>{
      const parts = clockEl.textContent.split(':');
      if(parts.length===3){
        setCelestialPosition(Number(parts[0]), Number(parts[1]));
      }
    })

    // Start now
    init(null);

    /* Small polish: update sun element design using CSS gradient to match theme */
    function themePaint(){
      const seg = body.getAttribute('data-time');
      if(seg === 'dawn' || seg === 'dusk'){
        sunEl.style.background = 'radial-gradient(circle at 30% 30%, #fff7cc 0%, #ffb86b 45%, #ff6b4a 100%)';
        sunEl.style.boxShadow = '0 18px 50px rgba(255,130,60,0.25), inset 0 -8px 30px rgba(255,200,160,0.25)';
      } else if(seg === 'morning' || seg === 'afternoon'){
        sunEl.style.background = 'radial-gradient(circle at 30% 30%, #fff9e6 0%, #ffd05b 45%, #ff9d2f 100%)';
        sunEl.style.boxShadow = '0 16px 46px rgba(255,150,40,0.22), inset 0 -6px 26px rgba(255,220,150,0.12)';
      } else {
        sunEl.style.background = 'linear-gradient(180deg,#ffd6a5, #ffb86b)';
      }
      moonEl.style.display = body.getAttribute('data-time') === 'night' ? 'block' : 'none';
    }

    // observe body attribute changes
    const obs = new MutationObserver(themePaint);
    obs.observe(body, {attributes:true, attributeFilter:['data-time']});

    // call at start
    themePaint();

  </script>
</body>
</html>
